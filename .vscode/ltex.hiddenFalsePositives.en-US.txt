{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\QThe original document can be found in the `data` folder as `Home Assignment - Data Scientist, LatAM Curves.docx`.\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\QThe relevant data is in the Excel file [`data_P2_ds_test.xlsx`](data/data_P2_ds_test.xlsx).\\E$"}
{"rule":"TOO_LONG_SENTENCE","sentence":"^\\QThe user needs to be able to edit the data for the reference market on any date (for instance, changing March 2026 from 73.51460126 to 77.00), and the app will show a plot with the original Market values (Original) and the new Market values (New) calculated with the new data points.\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\QThe original data are available in the code repository `data` folder as `data_P2_ds_test.xlsx`.\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\QAll processes were made using the [Quarto](https://quarto.org/) publishing system [@allaire], the [R programming language](https://www.r-project.org/) [@rcoreteama] and several R packages.\\E$"}
{"rule":"THREE_NN","sentence":"^\\QData science workflow created by Wickham, Ã‡etinkaya-Rundel, and Grolemund.\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Q```{r}\nmarket_data <-\n  file.path(\"data-raw\", \"data_P2_ds_test.xlsx\") |>\n  read.xlsx(\"MARKET\")\n```\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Q```{r}\nreference_data <-\n  file.path(\"data-raw\", \"data_P2_ds_test.xlsx\") |>\n  read.xlsx(\"REFERENCE_MARKET\")\n```\\E$"}
{"rule":"UPPERCASE_SENTENCE_START","sentence":"^\\Qargus\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\QThe relevant data is in the Excel file [`data_P2_ds_test.xlsx`](data-raw/data_P2_ds_test.xlsx).\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Q```{r}\nlookup <- tribble(\n  ~market,     ~reference,\n  \"market_1\", \"ref_market_2\",\n  \"market_2\", \"market_1\",\n  \"market_3\", \"ref_market_2\",\n  \"market_4\", \"ref_market_1\",\n  \"market_5\", \"ref_market_3\",\n  \"market_6\", \"market_5\",\n  \"market_7\", \"ref_market_2\"\n)\n```\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Qpost_markets <- lookup |> filter(str_detect(reference, \"^market_\"))\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Qfor (i in split(post_markets, seq(nrow(post_markets)))) {\n    data <-\n      data |>\n      mutate(\n        !!as.symbol(i$market) :=\n          accumulate2(\n            !!as.symbol(i$market),\n            tail(\n              !!as.symbol(i$reference) / lag(!!as.symbol(i$reference)),\n              -1\n            ),\n            accum\n          )\n        )\n  }\\E$"}
{"rule":"MORFOLOGIK_RULE_EN_US","sentence":"^\\Q```{r}\ndata <-\n  market_data |>\n  left_join(lookup, by = \"market\") |>\n  left_join(\n    factor_data |>\n      rename(factor = value) |>\n      filter(term >= market_data$term[1]),\n    by = c(\"term\", \"reference\" = \"ref_market\")\n  ) |>\n  group_by(reference) |>\n  mutate(\n    value = if_else(\n      !is.na(reference) & is.na(value),\n      accumulate2(value, tail(factor, -1), accum),\n      value\n    )\n  ) |>\n  ungroup() |>\n  select(term, market, value) |>\n  pivot_wider(names_from = market, values_from = value) |>\n  calculate_post_values() |>\n  slice(-1)\n```\\E$"}
{"rule":"NON_STANDARD_WORD","sentence":"^\\QDate(\"2029-01-01\")\n    ),\n    date_labels = \"%b %Y\"\n  ) +\n  scale_color_brand_d() +\n  labs(\n    x = \"Term\",\n    y = \"Market Value\",\n    linetype = \"Market\",\n    color = \"Market\",\n  )\n```\\E$"}
